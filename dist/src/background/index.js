(function(){"use strict";const n="src/offscreen/index.html";async function a(){await chrome.offscreen.hasDocument?.()||await chrome.offscreen.createDocument({url:n,reasons:[chrome.offscreen.Reason.WORKERS||"WORKERS"],justification:"Run Pyodide in a Web Worker for data processing"})}chrome.runtime.onMessage.addListener((e,c,o)=>{if(e.type==="RUN_PYTHON")return(async()=>{try{await a();const r=await chrome.runtime.sendMessage({target:"offscreen",data:{type:"RUN_CODE",code:e.code,data:e.data}});o(r)}catch(r){o({type:"ERROR",error:r.message})}})(),!0}),chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch(e=>console.error(e)),console.log("Background Service Worker loaded")})();
