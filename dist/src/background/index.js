(function(){"use strict";const a="src/offscreen/index.html";async function c(){await chrome.offscreen.hasDocument?.()||await chrome.offscreen.createDocument({url:a,reasons:[chrome.offscreen.Reason.WORKERS||"WORKERS"],justification:"Run Pyodide in a Web Worker for data processing"})}chrome.runtime.onMessage.addListener((e,n,o)=>{if(e.type==="RUN_PYTHON")return(async()=>{try{await c();const r=await chrome.runtime.sendMessage({target:"offscreen",data:{type:"RUN_CODE",code:e.code,data:e.data}});o(r)}catch(r){o({type:"ERROR",error:r.message})}})(),!0}),console.log("Background Service Worker loaded")})();
