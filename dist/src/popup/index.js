import"../../modulepreload-polyfill.js";var r=(e=>(e.DETECT_TABLES="DETECT_TABLES",e.EXTRACT_TABLE="EXTRACT_TABLE",e.RUN_PYTHON="RUN_PYTHON",e))(r||{});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("detect"),d=document.getElementById("run"),t=document.getElementById("results");e?.addEventListener("click",async()=>{const[n]=await chrome.tabs.query({active:!0,currentWindow:!0});n?.id&&chrome.tabs.sendMessage(n.id,{type:r.DETECT_TABLES},i=>{t&&(t.textContent=JSON.stringify(i,null,2))})}),d?.addEventListener("click",()=>{t&&(t.textContent="Running Python... (Loading Pyodide for the first time may take 10-20s)"),chrome.runtime.sendMessage({type:r.RUN_PYTHON,code:`import pandas as pd
df = pd.DataFrame({"a": [1, 2], "b": [3, 4]})
df.to_json(orient="records")`,data:[]},n=>{t&&(n.type==="ERROR"?t.textContent="Error: "+n.error:t.textContent="Result: "+JSON.stringify(n.result,null,2))})})});
